# エディタ機能ガイド

## 概要
Tanus Inkwellのマークダウンエディタには、快適な執筆体験を提供するための様々な機能が実装されています。

## 実装済み機能

### 1. フォント選択機能

エディタとプレビューで使用するフォントを選択できます。

#### 利用可能なフォント

**明朝体**
- Noto Serif JP（明朝体）- Googleの高品質な明朝体フォント
- Shippori Mincho（明朝体）- 伝統的な日本語明朝体

**ゴシック体**
- Noto Sans JP（ゴシック体）- Googleの標準ゴシック体
- M PLUS Rounded 1c（ゴシック体）- 丸ゴシック体
- Zen Kaku Gothic New（ゴシック体）- モダンなゴシック体

**システムフォント**
- デフォルトのシステムフォント

#### 設定方法
1. エディタツールバーの歯車アイコン⚙をクリック
2. 「フォント」タブでお好みのフォントを選択
3. プレビューで実際の表示を確認

### 2. 縦書きプレビュー機能

日本語の縦書き表示に対応しています。

#### 使い方
1. プレビューモードに切り替え
2. ツールバーの「横」「縦」ボタンで表示方向を切り替え
3. 縦書き時は右から左に読み進む伝統的な日本語レイアウトで表示

#### 特徴
- 句読点の適切な配置
- 見出しや段落の適切なスタイリング
- スクロール方向の自動調整

### 3. 可読性・視認性の向上

#### フォントサイズ調整
- 14px〜24pxの範囲で調整可能
- スライダーで簡単に変更

#### 行間調整
- 1.4〜2.4の範囲で調整可能
- 長文執筆に最適な行間を設定

#### 背景色選択
- 白
- オフホワイト
- クリーム
- ライトグレー

目に優しい色を選択して、長時間の執筆でも疲れにくい環境を作れます。

#### 1行の最大文字数
- 40〜80文字の範囲で調整可能
- プレビュー時に適用
- 可読性の高い行幅を設定

### 4. フォーカスモード

執筆に集中できるフルスクリーンモード。

#### 使い方
- ヘッダーのフォーカスモードボタン（全画面アイコン）をクリック
- キーボードショートカット: `F11` または `Ctrl+Shift+F`

#### 効果
- ヘッダーとサイドバーを非表示
- エディタ領域を最大化
- 執筆に集中できる環境

### 5. 文字数カウント

#### 表示される情報
- 総文字数（スペース含む）
- 文字数（スペース除く）
- 原稿用紙換算枚数（400字/枚）

エディタツールバーにリアルタイムで表示されます。

### 6. 設定の永続化

すべての設定はブラウザのlocalStorageに自動保存されます。
- フォント設定
- フォントサイズ
- 行間
- 縦書き/横書き設定
- 背景色
- 最大幅

次回アクセス時も設定が保持されます。

## キーボードショートカット

| ショートカット | 機能 |
|------------|------|
| `Ctrl+S` / `Cmd+S` | 保存 |
| `F11` / `Ctrl+Shift+F` | フォーカスモード切り替え |

## 設定のリセット

設定パネル下部の「設定をリセット」ボタンで、すべての設定をデフォルトに戻すことができます。

## 技術詳細

### 使用技術
- **エディタ**: CodeMirror 6
- **プレビュー**: Marked + Tailwind Typography
- **フォント**: Google Fonts API
- **状態管理**: Zustand (persist middleware)
- **ストレージ**: localStorage

### ブラウザ互換性
- モダンブラウザ（Chrome, Firefox, Safari, Edge）
- 縦書き表示には`writing-mode: vertical-rl`をサポートするブラウザが必要

## 今後の拡張予定

- [ ] ダークモード
- [ ] 原稿用紙風の表示モード
- [ ] 段落ごとの文字数表示
- [ ] 選択範囲の文字数表示
- [ ] ルーラー表示
- [ ] カスタムフォントのアップロード対応
